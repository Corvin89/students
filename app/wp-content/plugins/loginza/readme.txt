=== Loginza - Плагин авторизации ВКонтакте, OpenID, Yandex, Google и др. ===
Contributors: arsenichev
Donate link: http://loginza.ru/wp-plugin
Tags: openid, vkontakte, yandex, google, loginza, facebook, twitter, Rambler, Mail.Ru, Last.fm, LiveJournal, authentication, авторизация, вконтакте, widget
Requires at least: 1.0
Tested up to: 3.0.0
Stable tag: 1.1.0

Плагин позволяет использовать аккаунты Вконтакте, Yandex, Google, OpenID и тп., для авторизации в блоге.

== Description ==

Данный WordPress плагин позволяет использовать для авторизации аккаунты популярных порталов (Yandex, Google, Rambler, Mail.Ru, LiveJournal и тп.), социальной сети Вконтакте и OpenID идентификаторы. Разработан на основе сервиса [Loginza](https://loginza.ru "Loginza OpenID провайдер").

Возможности плагина:

* Пользователи Вашего блога смогут без процедуры регистрации авторизироваться в блоге и оставлять комментарии;
* Существующие пользователи могут прикрепить к своему WordPress аккаунту учетную запись ВКонтакте, Yandex, Google, Rambler, OpenID и тп., и в дальнейшем авторизироваться в блоге с помощью неё (не используя логин/пароль аккаунта WordPress);
* Плагин умеет получать дополнительные данные о пользователе из прикрепленного аккаунта (если они переданы провайдером) для использования их в профиле пользователя WordPress;
* Иконки провайдера в комментариях (около имени пользователя), визуально отображают через какую учетную запись вошел пользователь;
* Поддерживаются следующие провайдеры авторизации: Yandex, VKontakte, Loginza, Facebook, Twitter, MyOpenID, Google, Flickr, Last.fm, Mail.Ru, Rambler, Webmoney, AOL, VeriSign.
* Возможность вставки формы авторизации Loginza на любую страницу блога (используя template tag).

== Installation ==

1. Copy the `loginza` directory and its contents to your `/wp-content/plugins/` directory.
2. Activate the loginza plugin through the 'Plugins' menu in WordPress

== Frequently Asked Questions ==

= Почему от некоторых пользователей Вконтакте не видны комментарии в блоге и админке? =

Отключите плагин akismet, так как этот плагин помечает эти комментарии как спам.

= После активации плагина не появились иконки в форме комментария, почему? =

Возможно Вы используете тему, которая использует не стандартное обозначение формы комментариев. Что бы иконки появились в форме, нужно вручную добавить их в шаблон комментариев. HTML код иконок можно взять по адресу: http://loginza.ru/signin-integration (в коде в качестве значения token_url, вместо [RETURN_URL], укажите: <?=urlencode(loginza_get_current_url());?>).

Например:
<script src="http://loginza.ru/js/widget.js" type="text/javascript"></script>
<a href="https://loginza.ru/api/widget?token_url=<?=urlencode(loginza_get_current_url());?>" class="loginza">
    <img src="http://loginza.ru/img/sign_in_button_gray.gif" alt="Войти через loginza"/>
</a>

== Screenshots ==

1. Окно авторизации используемое в плагине Loginza.
2. Измененная главная форма авторизации. На выбор вход через Loginza виджет или по логин и паролю WordPress аккаунта.0
3. Иконки провайдеров символизирующие способ авторизации пользователя в блоге. Измененная форма добавления комментария.
4. Просмотр и редактирование профиля. Изменение прикрепленного аккаунта.

== Changelog ==

= 1.1.0 =
* Добавлен раздел настройки виджета в админ панели (меню "Настройка" -> "Loginza"). В данном разделе можно настроить набор кнопок виджета, их порядок, а так же задать язык интерфейса (предоставлены: Русский, Украинский и Английский).

= 1.0.9 =
* Поддержка Wordpress 3.0.
* Исправленны множественные инклуды файла widget.js на страницах блога.

= 1.0.8 =
* Добавлена поддержка авторизации через Last.fm;
* При привязке/перепривязке внешнего аккаунта к учетной записи Wordpress, теперь будет обновляться аватарка, имя и фамилия.

= 1.0.7 =
* Обновление связанное с добавлением нового параметра (identities) в Loginza.API. Обновление позволит пользователю mail.ru одинаково авторизироваться как через свой OpenID аккаунт, так и через аккаунт "Мой Мир".;

= 1.0.6 =
* Обновлен механизм обращения к Loginza.API (если установлена библиотека CURL, то будет использоваться для запросов к API);
* Для обработки логина больше не используется функция mb_regex_encoding (актуально у для тех у кого не установлена эта библиотека на хостинге);
* Теперь плагин нормально работает в блогах которые установлены в папку, а не корень домена (исправлена ошибка дублирования папки при редиректе).

= 1.0.5 =
* Исправлена работа плагина на хостинге без установленного JSON расширения PHP (теперь используется внешняя библиотека JSON.php);
* Исправлен баг работа плагина если блог установлен в папку, а не корень домена;
* Проведена работа над обеспечением совместимости JS кода с браузером IE8, а так же исправлен баг "висячего" лоадера на странице wp-login.php в IE8 + небольшое изменение в алгоритме генерации ссылки прикрепленного аккаунта на странице "Профиль".

= 1.0.4 =
* Добавлена авторизация через Twitter;
* В Loginza.API появилась поддержка Hybrid Protocol (OpenID+OAuth) для Google, что позволяет теперь получать больше данных из профиля Google Accounts (например: аватарку).

= 1.0.3 =
* Добавлена авторизация через Facebook;
* Небольшие доработки совместимости со старыми версиями PHP < 5.2.0;

= 1.0.2 =
* Добавлена возможность вставки формы авторизации Loginza на страницы блога.
Чтобы вставить форму, нужно использовать в тексте страницы любые варианты тегов разметки (template tag):
1. [loginza]текст ссылки[/loginza] Вставляет ссылку, нажатие которой открывает виджет авторизации;
2. [loginza:iframe] Добавляет блок авторизации, аналогичный используемому на странице /wp-login.php;
3. [loginza:icons] Добавляет набор иконок провайдеров (как в блоке комментарием).

= 1.0.1 =
* Добавленна ссылка прикрепления доп.аккаунта в профиль пользователя WordPress;
* Небольшие доработки совместимости со старыми версиями PHP4;
* Исправлены мелкие опечатки по тексту.
